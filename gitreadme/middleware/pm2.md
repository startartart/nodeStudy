# pm2

* `pm2` : Node.js의 프로세스를 관리하는 대표적인 도구로써, `Cluster` 같은 별도의 코딩없는 옵션을 통해 서버 자원을 모두 사용하고 무중단 서비스가 가능하도록 해준다.

* 다음 명령어를 통해 시작, 중지, 재시작 등 다양한 기능을 알아본다.
    * `start` `stop` `restart` `reload` `delete` 등..
        * 실행 정보를 설정한 `json` 파일을 생성해서 사용할 수 있다.
        * 클러스트 모드로 실행하는 방법은 `pm2 start {fileName} -i {num}`
        * 프로세스의 개수를 늘리고 싶다면 `pm2 scale {file} +{num}`
        * 모든 CPU를 사용하고 싶다면 `max` 혹은 `-1`을 사용한다.
    * `--watch` 옵션을 사용해 변경사항을 체크한다.
    * 로그 확인 : `logs`
    * 프로세스 모니터링 대시보드 : `monit`

* 2개 이상의 멀티 애플리케이션을 관리할 때는 `js configuration` 파일을 사용한다.
    * `pm2 init simple` 명령어를 사용하면 `ecosystem.config.js` 파일이 생성되며 동시 관리 프로세스가 여러개라면 apps 배열에 추가하면 된다.
    * 작성된 `ecosystem.config.js` 파일을 사용해 여러 개의 프로세스를 동시에 관리할 수 있다.
        * 특정 앱만 실행하려면 `--only {fileName}` 옵션을 사용한다.
            * 작성된 파일에 특정앱만 실행하려면 콤마로 앱을 구분해 사용한다.
